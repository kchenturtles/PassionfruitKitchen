{{ define "main" }}
  {{ $lastmodstr := (partial "date.html" (dict "date" .Lastmod "language" $.Page.Language "format" "long")) }}
  {{ $datestr := (partial "date.html" (dict "date" .Date "language" $.Page.Language "format" "long")) }}

  <!DOCTYPE html>
  <html>
  <head>
  <style>
     .grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
  
  .grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  
  .grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
  
  .grid-cols-4 {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
  
  .grid-cols-5 {
    grid-template-columns: repeat(5, minmax(0, 1fr));
  }
  
  .grid-cols-6 {
    grid-template-columns: repeat(6, minmax(0, 1fr));
  }
  
  .grid-cols-7 {
    grid-template-columns: repeat(7, minmax(0, 1fr));
  }
  @media(min-width: 768px) {
    .md\:relative {
        position:relative
    }

    .md\:flex {
        display: flex
    }

    .md\:hidden {
        display: none
    }

    .md\:w-auto {
        width: auto
    }

    .md\:grid-cols-2 {
        grid-template-columns: repeat(2,minmax(0,1fr))
    }

    .md\:grid-cols-3 {
      grid-template-columns: repeat(3, minmax(0,1fr))
    }

    .md\:grid-cols-4 {
      grid-template-columns: repeat(4, minmax(0,1fr))
    }

    .md\:flex-row {
        flex-direction: row
    }

    .md\:items-center {
        align-items: center
    }

    .md\:justify-between {
        justify-content: space-between
    }

    .md\:p-0 {
        padding: 0
    }
}

@media(min-width: 1024px) {
    .lg\:prose-lg {
        font-size:1.125rem;
        line-height: 1.7777778
    }

    .lg\:prose-lg p {
        margin-top: 1.3333333em;
        margin-bottom: 1.3333333em
    }

    .lg\:prose-lg blockquote {
        margin-top: 1.6666667em;
        margin-bottom: 1.6666667em;
        padding-left: 1em
    }

    .lg\:prose-lg h1 {
        font-size: 2.6666667em;
        margin-top: 0;
        margin-bottom: .8333333em;
        line-height: 1
    }

    .lg\:prose-lg h2 {
        font-size: 1.6666667em;
        margin-top: 1.8666667em;
        margin-bottom: 1.0666667em;
        line-height: 1.3333333
    }

    .lg\:prose-lg h3 {
        font-size: 1.3333333em;
        margin-top: 1.6666667em;
        margin-bottom: .6666667em;
        line-height: 1.5
    }

    .lg\:prose-lg h4 {
        margin-top: 1.7777778em;
        margin-bottom: .4444444em;
        line-height: 1.5555556
    }

    .lg\:prose-lg img {
        margin-top: 1.7777778em;
        margin-bottom: 1.7777778em
    }

    .lg\:prose-lg video {
        margin-top: 1.7777778em;
        margin-bottom: 1.7777778em
    }

    .lg\:prose-lg figure {
        margin-top: 1.7777778em;
        margin-bottom: 1.7777778em
    }

    .lg\:prose-lg figure>* {
        margin-top: 0;
        margin-bottom: 0
    }

    .lg\:prose-lg figure figcaption {
        font-size: .8888889em;
        line-height: 1.5;
        margin-top: 1em
    }

    .lg\:prose-lg code {
        font-size: .8888889em
    }

    .lg\:prose-lg h2 code {
        font-size: .8666667em
    }

    .lg\:prose-lg h3 code {
        font-size: .875em
    }

    .lg\:prose-lg pre {
        font-size: .8888889em;
        line-height: 1.75;
        margin-top: 2em;
        margin-bottom: 2em;
        border-radius: .375rem;
        padding-top: 1em;
        padding-right: 1.5em;
        padding-bottom: 1em;
        padding-left: 1.5em
    }

    .lg\:prose-lg ol {
        margin-top: 1.3333333em;
        margin-bottom: 1.3333333em
    }

    .lg\:prose-lg ul {
        margin-top: 1.3333333em;
        margin-bottom: 1.3333333em
    }

    .lg\:prose-lg li {
        margin-top: .6666667em;
        margin-bottom: .6666667em
    }

    .lg\:prose-lg ol>li {
        padding-left: 1.6666667em
    }

    .lg\:prose-lg ol>li::before {
        left: 0
    }

    .lg\:prose-lg ul>li {
        padding-left: 1.6666667em
    }

    .lg\:prose-lg ul>li::before {
        width: .3333333em;
        height: .3333333em;
        top: calc(.8888889em - .1666667em);
        left: .2222222em
    }

    .lg\:prose-lg>ul>li p {
        margin-top: .8888889em;
        margin-bottom: .8888889em
    }

    .lg\:prose-lg>ul>li>*:first-child {
        margin-top: 1.3333333em
    }

    .lg\:prose-lg>ul>li>*:last-child {
        margin-bottom: 1.3333333em
    }

    .lg\:prose-lg>ol>li>*:first-child {
        margin-top: 1.3333333em
    }

    .lg\:prose-lg>ol>li>*:last-child {
        margin-bottom: 1.3333333em
    }

    .lg\:prose-lg ul ul,.lg\:prose-lg ul ol,.lg\:prose-lg ol ul,.lg\:prose-lg ol ol {
        margin-top: .8888889em;
        margin-bottom: .8888889em
    }

    .lg\:prose-lg hr {
        margin-top: 3.1111111em;
        margin-bottom: 3.1111111em
    }

    .lg\:prose-lg hr+* {
        margin-top: 0
    }

    .lg\:prose-lg h2+* {
        margin-top: 0
    }

    .lg\:prose-lg h3+* {
        margin-top: 0
    }

    .lg\:prose-lg h4+* {
        margin-top: 0
    }

    .lg\:prose-lg table {
        font-size: .8888889em;
        line-height: 1.5
    }

    .lg\:prose-lg thead th {
        padding-right: .75em;
        padding-bottom: .75em;
        padding-left: .75em
    }

    .lg\:prose-lg thead th:first-child {
        padding-left: 0
    }

    .lg\:prose-lg thead th:last-child {
        padding-right: 0
    }

    .lg\:prose-lg tbody td {
        padding-top: .75em;
        padding-right: .75em;
        padding-bottom: .75em;
        padding-left: .75em
    }

    .lg\:prose-lg tbody td:first-child {
        padding-left: 0
    }

    .lg\:prose-lg tbody td:last-child {
        padding-right: 0
    }

    .lg\:prose-lg>:first-child {
        margin-top: 0
    }

    .lg\:prose-lg>:last-child {
        margin-bottom: 0
    }

    .lg\:grid-cols-3 {
        grid-template-columns: repeat(3,minmax(0,1fr))
    }

    .lg\:grid-cols-4 {
        grid-template-columns: repeat(4,minmax(0,1fr))
    }

    .lg\:grid-cols-5 {
      grid-template-columns: repeat(5, minmax(0,1fr))
    }

    .lg\:gap-6 {
        gap: 1.5rem
    }

    .lg\:gap-8 {
        gap: 2rem
    }

    .lg\:gap-16 {
        gap: 4rem
    }
}
  </style>
  </head>
  <body>

  {{ if (and .Params.thumbnail (not (or .Site.Params.hidePageThumbnail .Params.hidePageThumbnail)) ) }}
  <div class="relative max-w-6xl mx-auto px-4">
    <!-- <img src="{{ .Params.thumbnail }}" class="rounded-lg shadow-sm w-full object-contain" /> -->
    {{ if not (or (or .Site.Params.hideMeta .Params.hideMeta) false) }}
    <div class="absolute top-4 right-8 rounded shadow bg-white text-gray-900 dark:bg-gray-900 dark:text-white px-2 py-0.5">
      {{ $datestr }}
    </div>
    {{ end }}
  </div>
  {{ end }}

  <article class="prose lg:prose-lg container mx-auto my-8 dark:prose-dark">

    <h1 class="text-2xl font-bold mb-2" style = "font-family:Georgia, 'Times New Roman', Times, serif;">{{ .Title }}</h1>
    {{ if not (or (or .Site.Params.hideMeta .Params.hideMeta) false) }}
    <h5 class="text-sm flex items-center flex-wrap">
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <rect x="4" y="5" width="16" height="16" rx="2" />
        <line x1="16" y1="3" x2="16" y2="7" />
        <line x1="8" y1="3" x2="8" y2="7" />
        <line x1="4" y1="11" x2="20" y2="11" />
        <rect x="8" y="15" width="2" height="2" />
      </svg>
      {{ $datestr | i18n "postedOnDate" }}
      {{ if ne $datestr $lastmodstr }}
        &nbsp{{ $lastmodstr | i18n "lastModified" }}</h5><h5 class="text-sm flex items-center flex-wrap">
      {{ else }}
        &nbsp;&bull;&nbsp;
      {{ end }}
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <circle cx="12" cy="12" r="9" />
        <polyline points="12 7 12 12 15 15" />
      </svg>
      {{ i18n "readingTime"}}{{ .ReadingTime }}&nbsp;{{ i18n "readTime" }}
      &nbsp;&bull;
      <svg xmlns="http://www.w3.org/2000/svg" class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <line x1="3" y1="6" x2="3" y2="19" />
        <line x1="12" y1="6" x2="12" y2="19" />
        <line x1="21" y1="6" x2="21" y2="19" />
      </svg>
      {{ .WordCount }}&nbsp;{{ i18n "words" }}
      {{ if not (or (or .Site.Params.hideOtherLanguages .Params.hideOtherLanguages) false) }}
        {{ if .IsTranslated -}}
          {{- $sortedTranslations := sort .Translations "Site.Language.Weight" -}}
          {{- $links := apply $sortedTranslations "partial" "translation_link.html" "." -}}
          {{- $cleanLinks := apply $links "chomp" "." -}}
          {{- $linksOutput := delimit $cleanLinks (i18n "translationsSeparator") -}}
          &nbsp;&bull;&nbsp;{{ i18n "translationsLabel" }}&nbsp;{{ $linksOutput }}
        {{- end }}
      {{ end }}

      {{ partial "tags.html" .}}
    </h5>
    {{ end }}

    {{ if (or .Site.Params.toc .Params.toc) }}
    {{- partial "toc.html" . -}}
    {{ end }}

    {{ .Content }}
  </article>
  {{- partial "categories.html" . -}}

  {{- partial "comments.html" . -}}
  <div class = "container mx-auto prose lg: prose-lg">
    <hr></hr>
    {{ $frontBundle := .Site.Params.frontBundle | default "blog" }}
    <div class="container mx-auto my-2 text-3xl font-light pb-0 pt-4 mb-0 mt-0">You Might Also Like:</div>
    <div class="container p-0 mx-auto grid sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 lg:gap-8">
      {{ range first 5 (where .Site.RegularPages.ByDate.Reverse "Type" $frontBundle)  }}
        {{- partial "mini-blog-card.html" . -}}
      {{ end }}
    </div>
  </div>

</body>
</html>

{{ end }}
